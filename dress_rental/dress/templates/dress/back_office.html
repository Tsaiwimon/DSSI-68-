{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>{{ store.name }}</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <script>
    function toggleDropdown() {
      const menu = document.getElementById("settingsDropdown");
      menu.classList.toggle("hidden");
    }

    window.addEventListener("click", function(e) {
      const dropdown = document.getElementById("settingsDropdown");
      const button = document.getElementById("settingsButton");
      if (!button.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.classList.add("hidden");
      }
    });
  </script>
</head>

<body class="bg-gray-50">

<!-- Header -->
<header class="bg-gradient-to-r from-pink-200 via-yellow-100 to-blue-200 shadow w-full">
  <div class="flex items-center justify-between px-10 py-10">
    <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤ -->
    <div class="flex items-center space-x-3">
      <h1 class="text-2xl font-bold text-gray-900">‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏£‡πâ‡∏≤‡∏ô</h1>
    </div>

    <!-- Store Logo + Name + Settings -->
    <div class="flex items-center space-x-3 relative">
      {% if store.shop_logo %}
        <img src="{{ store.shop_logo.url }}" alt="logo" class="w-12 h-12 rounded-full object-cover">
      {% else %}
        <img src="{% static 'images/store-placeholder.png' %}" alt="logo" class="w-12 h-12 rounded-full object-cover">
      {% endif %}
      <span class="font-semibold text-lg">{{ store.name }}</span>

      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ü‡∏±‡∏ô‡πÄ‡∏ü‡∏∑‡∏≠‡∏á -->
      <button id="settingsButton" onclick="toggleDropdown()" 
              class="text-gray-700 hover:text-gray-900 focus:outline-none">
        <!-- Heroicon: Cog -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.591 1.093c1.53-.994 3.385.86 2.39 2.39a1.724 1.724 0 001.092 2.592c1.757.426 1.757 2.924 0 3.35a1.724 1.724 0 00-1.093 2.591c.994 1.53-.86 3.385-2.39 2.39a1.724 1.724 0 00-2.592 1.092c-.426 1.757-2.924 1.757-3.35 0a1.724 1.724 0 00-2.591-1.093c-1.53.995-3.385-.86-2.39-2.39a1.724 1.724 0 00-1.092-2.592c-1.757-.426-1.757-2.924 0-3.35a1.724 1.724 0 001.093-2.591c-.995-1.53.86-3.385 2.39-2.39a1.724 1.724 0 002.592-1.092z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      </button>

      <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏î‡∏£‡∏≠‡∏õ‡∏î‡∏≤‡∏ß -->
      <div id="settingsDropdown" class="hidden absolute right-0 top-14 bg-white rounded-lg shadow-lg border border-gray-200 w-48">
        <ul class="py-2 text-sm text-gray-700">
          <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">‡∏î‡∏π‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</a></li>
          <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</a></li>
          <li><hr class="my-1 border-gray-200"></li>
          <li><a href="#" class="block px-4 py-2 text-red-500 hover:bg-red-50">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a></li>
        </ul>
      </div>
    </div>
  </div>
</header>

<!-- Tabs -->
<div class="flex justify-center space-x-3 bg-white shadow py-3 px-4 border-t border-gray-100">
  <a href="{% url 'my_store' store.id %}" 
     class="flex-1 text-center py-3 rounded-lg border font-semibold hover:bg-gray-100 transition">
    ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô
  </a>
  <a href="{% url 'store_dress' store.id %}" 
     class="flex-1 text-center py-3 rounded-lg border font-semibold hover:bg-gray-100 transition">
    ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
  </a>
  <a href="{% url 'back_office' store.id %}" 
     class="flex-1 text-center py-3 rounded-lg bg-black text-white font-semibold hover:bg-gray-800 transition">
    ‡∏´‡∏•‡∏±‡∏á‡∏£‡πâ‡∏≤‡∏ô
  </a>
</div>

<!-- Main Content -->
<main class="max-w-5xl mx-auto px-4 py-10">

  <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô -->
  <div class="bg-white shadow-md rounded-xl p-6 flex flex-col md:flex-row items-center justify-between mb-10">
    <div class="flex items-center space-x-4">
      <img src="{% if store.shop_logo %}{{ store.shop_logo.url }}{% else %}{% static 'img/shop-avatar.png' %}{% endif %}" 
           alt="shop logo" class="w-20 h-20 rounded-full shadow border border-gray-200">
      <div>
        <h2 class="text-xl font-semibold text-gray-800">{{ store.name }}</h2>
        <p class="text-gray-500 text-sm mt-1">‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á: {{ request.user.username }}</p>
      </div>
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ (‡πÅ‡∏Å‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) -->
    <a href="{% url 'public_store' store.id %}" 
       class="bg-blue-600 hover:bg-blue-700 text-white text-sm px-6 py-2 rounded-md shadow mt-4 md:mt-0 transition">
       ‡∏î‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
    </a>
  </div>

  <!-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡∏ä‡∏∏‡∏î -->
  <section>
    <h3 class="text-lg font-semibold text-gray-800 mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡∏ä‡∏∏‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
      <div class="bg-blue-100 p-4 rounded-lg text-center shadow-sm">
        <div class="text-3xl mb-2">üõí</div>
        <p class="text-2xl font-bold text-blue-700">2</p>
        <p class="text-gray-700 text-sm">‡∏Ñ‡∏≥‡πÄ‡∏ä‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà</p>
      </div>
      <div class="bg-blue-100 p-4 rounded-lg text-center shadow-sm">
        <div class="text-3xl mb-2">üöö</div>
        <p class="text-2xl font-bold text-blue-700">5</p>
        <p class="text-gray-700 text-sm">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</p>
      </div>
      <div class="bg-blue-100 p-4 rounded-lg text-center shadow-sm">
        <div class="text-3xl mb-2">‚ùå</div>
        <p class="text-2xl font-bold text-blue-700">10</p>
        <p class="text-gray-700 text-sm">‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</p>
      </div>
      <div class="bg-blue-100 p-4 rounded-lg text-center shadow-sm">
        <div class="text-3xl mb-2">‚úÖ</div>
        <p class="text-2xl font-bold text-blue-700">58</p>
        <p class="text-gray-700 text-sm">‡πÄ‡∏ä‡πà‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
      </div>
      <div class="bg-blue-100 p-4 rounded-lg text-center shadow-sm">
        <div class="text-3xl mb-2">‚≠ê</div>
        <p class="text-2xl font-bold text-blue-700">2</p>
        <p class="text-gray-700 text-sm">‡∏£‡∏µ‡∏ß‡∏¥‡∏ß</p>
      </div>
    </div>
  </section>

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏£‡πâ‡∏≤‡∏ô -->
  <section class="mt-10 grid grid-cols-1 md:grid-cols-3 gap-6">
    <a href="#" class="bg-white border border-gray-200 rounded-xl shadow p-6 text-center hover:shadow-md transition">
      <div class="text-4xl mb-3">üëó</div>
      <p class="font-semibold text-gray-800">‡∏ä‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</p>
    </a>
    <a href="#" class="bg-white border border-gray-200 rounded-xl shadow p-6 text-center hover:shadow-md transition">
      <div class="text-4xl mb-3">üí≥</div>
      <p class="font-semibold text-gray-800">‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</p>
    </a>
    <a href="#" class="bg-white border border-gray-200 rounded-xl shadow p-6 text-center hover:shadow-md transition">
      <div class="text-4xl mb-3">üìà</div>
      <p class="font-semibold text-gray-800">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</p>
    </a>
  </section>

</main>

</body>
</html>
