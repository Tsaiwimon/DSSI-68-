{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>{{ store.name }}</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50">

  <!-- Header -->
  <header class="bg-gradient-to-r from-pink-200 via-yellow-100 to-blue-200 shadow w-full">
    <div class="flex items-center justify-between px-10 py-10">
      
      
      <h1 class="text-2xl font-bold text-gray-900">ภาพรวมหน้าร้าน</h1>
      
      <!-- Search -->
      <div class="flex-grow max-w-2xl mx-6">
        <form method="get" action="">
          <input type="text" name="q" placeholder="ค้นหาสินค้า"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300">
        </form>
      </div>

      <!-- Store Logo + Name -->
      <div class="flex items-center space-x-3">
        {% if store.shop_logo %}
          <img src="{{ store.shop_logo.url }}" alt="logo" class="w-12 h-12 rounded-full object-cover">
        {% else %}
          <img src="{% static 'images/store-placeholder.png' %}" alt="logo" class="w-12 h-12 rounded-full object-cover">
        {% endif %}
        <span class="font-semibold text-lg">{{ store.name }}</span>
      </div>
    </div>
  </header>

  <!-- Tabs -->
  <div class="flex justify-center space-x-3 bg-white shadow py-3 px-4">
    <a href="{% url 'my_store' store.id %}"
       class="flex-1 text-center py-3 rounded-lg bg-black text-white font-semibold shadow hover:bg-gray-800 transition">
      หน้าร้าน
    </a>
    <a href="{% url 'store_dress' store.id %}"
       class="flex-1 text-center py-3 rounded-lg border font-semibold shadow hover:bg-gray-100 transition">
      รายการสินค้า
    </a>
    <a href="{% url 'back_office' store.id %}"
       class="flex-1 text-center py-3 rounded-lg border font-semibold shadow hover:bg-gray-100 transition">
      หลังร้าน
    </a>
  </div>

  <!-- Product Grid -->
  <main class="max-w-6xl mx-auto p-6">
    {% if products %}
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        {% for product in products %}
          <div class="bg-white shadow rounded-lg overflow-hidden hover:shadow-lg transition">
            {% if product.image %}
              <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full h-72 object-cover">
            {% else %}
              <img src="{% static 'images/product-placeholder.png' %}" alt="no image" class="w-full h-72 object-cover">
            {% endif %}
            <div class="p-3">
              <p class="text-red-500 font-bold text-sm">฿ {{ product.daily_price }}/วัน</p>
              <h3 class="font-medium text-gray-800 text-sm mt-1 line-clamp-2">{{ product.name }}</h3>

              <!-- ✅ สถานะ -->
              {% if product.is_available %}
                <span class="text-green-600 text-xs font-bold">✔ เปิดให้เช่า</span>
              {% else %}
                <span class="text-red-600 text-xs font-bold">✖ ปิดการเช่า</span>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-center text-gray-500 mt-10">ยังไม่มีสินค้าในร้าน</p>
    {% endif %}
  </main>

</body>
</html>
